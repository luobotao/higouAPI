@(appid:String)(timstr:String)(nostr:String)(sign:String)(wxsign:WxSign)@views.html.H5.bbt.main{<title>嗨个购</title><script type="text/javascript">callpay();function callpay(){	if (typeof WeixinJSBridge == "undefined"){		if( document.addEventListener ){			document.addEventListener('WeixinJSBridgeReady', jsApiCall, false);		}else if (document.attachEvent){			document.attachEvent('WeixinJSBridgeReady', jsApiCall); 			document.attachEvent('onWeixinJSBridgeReady', jsApiCall);		}	}else{		jsApiCall();	}}function saveaddress(username,telnum,postcode,province,city,country,address){	}//调用微信JS api 支付function jsApiCall(){	WeixinJSBridge.invoke(		'editAddress',{           "appId" : "@appid",     //公众号名称，由商户传入                "scope":"jsapi_address",           "signType":"sha1",           "addrSign":"@sign",           "timeStamp":"@timstr",         //时间戳，自1970年以来的秒数                "nonceStr" : "@nostr" //随机串          },		function(res){    	   alert(res.err_msg);			if(res.err_msg == "edit_address:ok" ) {				//成功				saveaddress(res.username,res.telNumber,res.addressPostalCode,res.proviceFirstStageName,res.addressCitySecondStageName,res.addressCountiesThirdStageName,res.addressDetailInfo);												setTimeout(function(){				window.location.href="/sheSaid/ordercartcrm";				},3000);			}		}	);}</script>}{ <div class="container">            <div class="wx_pay_top">               <img src="@assets.CdnAssets.urlForAPIPublic("images/sheSaidImages/wx_logo.jpg")" alt=""><br>               微信安全支付            </div>            <div class="wx_pay_cont">               <h2>点击按钮进行微信安全支付</h2>               <a href="" class="btn btn_green">微信安全支付</a>            </div>        </div>}{ @if(wxsign!=null){<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script><script>var linkurl=location.href.split('#')[0];  wx.config({    debug: false,    appId: '@wxsign.getAppId()',    timestamp: '@wxsign.getTimstr()',    nonceStr: '@wxsign.getNostr()',    signature: '@wxsign.getSign()',    jsApiList: ['checkJsApi',                'onMenuShareTimeline',                'onMenuShareAppMessage'    ]  });	wx.ready(function () {    // 1 判断当前版本是否支持指定 JS 接口，支持批量判断		wx.checkJsApi({		  jsApiList: [			'getNetworkType',			'previewImage'		  ],		  success: function (res) {			//alert(JSON.stringify(res));		  }		});		wx.onMenuShareTimeline({		    title: 'HI 个购', // 分享标题		    link: '@wxsign.getShareurl()', // 分享链接		    imgUrl: '@wxsign.getShareimg()', // 分享图标		    success: function () { 		        // 用户确认分享后执行的回调函数		    },		    cancel: function () { 		        // 用户取消分享后执行的回调函数		    }		});		wx.onMenuShareAppMessage({			  title: 'HI 个购',			  desc: '嗨个购—与你一起买世界',			  link: '@wxsign.getShareurl()',			  imgUrl: '@wxsign.getShareimg()',			  success: function (res) {				//alert('已分享');			  },			  cancel: function (res) {				//alert('已取消');			  }		  });  });  wx.error(function (res){		//alert(res.errMsg);  });</script>}}